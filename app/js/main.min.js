const singInButton=document.querySelector(".buttons__button_prime"),singInButtonReviews=document.querySelector(".reviews__button"),modal=document.querySelector(".modal-wrapper");singInButton.addEventListener("click",(()=>{modal.classList.add("modal-wrapper_active")})),singInButtonReviews.addEventListener("click",(()=>{modal.classList.add("modal-wrapper_active")})),modal.addEventListener("click",(t=>{t.target.classList.contains("modal-wrapper_active")&&modal.classList.remove("modal-wrapper_active")}));const partsPrice=242,montagePrice=450,calculators=[...document.querySelectorAll(".calculator-wrap")];calculators.map((t=>{const e=t.querySelector("#length"),o=t.querySelector("#width"),a=t.querySelector("#square"),n=t.querySelector(".out-wrap__total"),r=t.querySelector("#parts-sum"),c=t.querySelector("#montage"),l=parseFloat(t.querySelector(".out-wrap__input-price-square").innerHTML.replace(/[^0-9.]/g,"")),s=t.querySelector(".buttons__calculate");let i;t.querySelector(".buttons__button").addEventListener("click",(()=>{modal.classList.add("modal-wrapper_active")})),s.addEventListener("click",(t=>{let s=+e?.value,u=+o?.value,d=+a?.value,m=d>0?d:s*u;(d>0||s*u===d)&&(i=m*l,n.textContent=`${i} ₽`,r.textContent=`${i+242*m} ₽`,c.textContent=`${i+242*m+450*m} ₽`),d>0&&s*u!=d&&(e.value=0,o.value=0,i=m*l,n.textContent=`${i} ₽`,r.textContent=`${i+242*m} ₽`,c.textContent=`${i+242*m+450*m} ₽`),d<=0&&(i=m*l,n.textContent=`${i} ₽`,r.textContent=`${i+242*m} ₽`,c.textContent=`${i+242*m+450*m} ₽`)}))}));const question=[...document.querySelectorAll(".question")];async function submitForm(t){t.preventDefault();try{const e=await fetch(t.target.action,{method:"POST",body:new FormData(t.target)});if(!e.ok)throw`Ошибка при обращении к серверу: ${e.status}`;const o=e.headers.get("content-type");if(!o||!o.includes("application/json"))throw"Не отправлено. Вы - РОБОТ!";const a=await e.json();if("success"!==a.result)throw console.log(a),a.info;alert(a.info),setTimeout((()=>{modal.classList.remove("modal-wrapper_active")}),"1000")}catch(t){alert(t)}}question.map((t=>t.addEventListener("click",(e=>{const o=t.nextElementSibling,a=t.querySelector(".question__arrow");o.classList.toggle("answer_active"),a.classList.toggle("question__arrow_active")}))));