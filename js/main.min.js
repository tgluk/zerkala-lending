const singInButton=document.querySelector(".buttons__button_prime"),singInButtonFile=document.querySelector(".buttons__button_transparrent"),singInButtonReviews=document.querySelector(".reviews__button"),modal=document.querySelector(".modal-wrapper"),modalFile=document.querySelector(".modal-wrapper-file");singInButtonFile.addEventListener("click",(()=>{modalFile.classList.add("modal-wrapper_active")})),singInButton.addEventListener("click",(()=>{modal.classList.add("modal-wrapper_active")})),singInButtonReviews.addEventListener("click",(()=>{modal.classList.add("modal-wrapper_active")})),modal.addEventListener("click",(t=>{t.target.classList.contains("modal-wrapper_active")&&modal.classList.remove("modal-wrapper_active")})),modalFile.addEventListener("click",(t=>{t.target.classList.contains("modal-wrapper_active")&&modalFile.classList.remove("modal-wrapper_active")}));const partsPrice=242,montagePrice=450,calculators=[...document.querySelectorAll(".calculator-wrap")];calculators.map((t=>{const e=t.querySelector("#length"),a=t.querySelector("#width"),o=t.querySelector("#square"),n=t.querySelector(".out-wrap__total"),r=t.querySelector("#parts-sum"),l=t.querySelector("#montage"),c=parseFloat(t.querySelector(".out-wrap__input-price-square").innerHTML.replace(/[^0-9.]/g,"")),s=t.querySelector(".buttons__calculate");let i;t.querySelector(".buttons__button").addEventListener("click",(()=>{modal.classList.add("modal-wrapper_active")})),s.addEventListener("click",(t=>{let s=+e?.value,u=+a?.value,d=+o?.value,m=d>0?d:s*u;(d>0||s*u===d)&&(i=m*c,n.textContent=`${i} ₽`,r.textContent=`${i+242*m} ₽`,l.textContent=`${i+242*m+450*m} ₽`),d>0&&s*u!=d&&(e.value=0,a.value=0,i=m*c,n.textContent=`${i} ₽`,r.textContent=`${i+242*m} ₽`,l.textContent=`${i+242*m+450*m} ₽`),d<=0&&(i=m*c,n.textContent=`${i} ₽`,r.textContent=`${i+242*m} ₽`,l.textContent=`${i+242*m+450*m} ₽`)}))}));const question=[...document.querySelectorAll(".question")];async function submitForm(t){t.preventDefault();try{const e=await fetch(t.target.action,{method:"POST",body:new FormData(t.target)});if(!e.ok)throw`Ошибка при обращении к серверу: ${e.status}`;const a=e.headers.get("content-type");if(!a||!a.includes("application/json"))throw"Не отправлено. Вы - РОБОТ!";const o=await e.json();if("success"!==o.result)throw console.log(o),o.info;alert(o.info),setTimeout((()=>{modal.classList.remove("modal-wrapper_active")}),"1000")}catch(t){alert(t)}}question.map((t=>t.addEventListener("click",(e=>{const a=t.nextElementSibling,o=t.querySelector(".question__arrow");a.classList.toggle("answer_active"),o.classList.toggle("question__arrow_active")}))));